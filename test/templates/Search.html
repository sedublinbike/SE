<!DOCTYPE html>
<html>
<body>
<script>
    
function choose() {
            var everystation = JSON.parse(xmlhttp.responseText).stations;
            var mapOptions = {
                center: new google.maps.LatLng(53.346763, -6.2568436),
                zoom: 13,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var infoWindow = new google.maps.InfoWindow();
            var map = new google.maps.Map(document.getElementById("dvMap"), mapOptions);
            var bikestation = document.getElementById("stationlist").value;
            var trigger = true;
            for (var i = 0; i < everystation.length; i++) {
                var data = everystation[i];
                var k;
                if ( getday() == "Overall" ) {
                    k = 0;
                }
                
                else if ( getday() == "Monday" ) {
                    k = 1;
                }
                else if ( getday() == "Tuesday" ) {
                    k = 2;
                }
                
                else if ( getday() == "Wednesday" ) {
                    k = 3
                }
                
                else if ( getday() == "Thursday" ) {
                    k = 4;
                }
                
                else if ( getday() == "Friday" ) {
                    k = 5;
                }
                
                else if ( getday() == "Saturday" ) {
                    k = 6;
                }
                
                else if ( getday() == "Sunday" ) {
                    k = 7;
                }
                
                

                if (bikestation == data.address){
                    var myLatlng = new google.maps.LatLng(data.position_lat, data.position_lng);
                        if (data.available_bikes <= 5 && data.available_bikes > 0) {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png',
                            
                         }); }
                                                            
                        else if (data.available_bikes >= data.available_bike_stands) {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
                            
                         }); } 
                        
                        
                        else {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png',
                         }); } 
                    
                    
                                var basicurl = "http://127.0.0.1:5000/available/";
                                $.ajax({
                                    url: basicurl + data.number,
                                    type: "get",
                                    dataType: "json",
                                    success: function(content) {
                                        var bikes = content.station_recent;
                                        var li_bike_weekly = content.li_bike_weekly;
                                        var li_bike_stands_weekly = content.li_bike_stands_weekly;
                                        var li_bike_hourly = content.li_bike_hourly;
                                        var li_bike_stands_hourly = content.li_bike_stands_hourly;

                                        

                                        
                                    var chart = new CanvasJS.Chart("weekly", {
                                    animationEnabled: true,
                                    theme: "light2",
                                    title:{
                                        text: "Weekly"
                                    },
                                    axisY:{
                                        includeZero: false
                                    },
                                    legend: {
                                        cursor: "pointer",

                                        dockInsidePlotArea: true,
                                        itemclick: toggleDataSeries
                                    },
                                    data: [{        
                                        type: "line",  
                                        showInLegend: true,
                                        name: "Available Bikes",
                                        color: "#006030",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_weekly[6]},
                                            { label: "Monday", y: li_bike_weekly[0]},
                                            { label: "Tuesday", y: li_bike_weekly[1]},
                                            { label: "Wednesday", y: li_bike_weekly[2]},
                                            { label: "Thursday", y: li_bike_weekly[3]},
                                            { label: "Friday", y: li_bike_weekly[4]},
                                            { label: "Saturday", y: li_bike_weekly[5]},
                                            
                                        ]
                                    },
                                       { type: "line",  
                                        showInLegend: true,
                                        name: "Available Stands",
                                        color: "#CE0000",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_stands_weekly[6]},
                                            { label: "Monday", y: li_bike_stands_weekly[0]},
                                            { label: "Tuesday", y: li_bike_stands_weekly[1]},
                                            { label: "Wednesday", y: li_bike_stands_weekly[2]},
                                            { label: "Thursday", y: li_bike_stands_weekly[3]},
                                            { label: "Friday", y: li_bike_stands_weekly[4]},
                                            { label: "Saturday", y: li_bike_stands_weekly[5]},
                                            
                                        ]
                                    } ]
                                });
                                chart.render();
                                        
                                        
                                function toggleDataSeries(f) {
                                    if (typeof(f.dataSeries.visible) === "undefined" || f.dataSeries.visible) {
                                        f.dataSeries.visible = false;
                                    }
                                    else {
                                        f.dataSeries.visible = true;
                                    }
                                    chart.render();
                                }     
                                        
                                
                                        
                                        
                                         
                                        
                                        
                                    var columnchart = new CanvasJS.Chart("hourly", {
                                    animationEnabled: true,
                                    theme: "light2",
                                    title:{
                                        text: "Hourly"
                                    },	
                                    axisY: {
                                        title: "Available Bikes",
                                        titleFontColor: "#006030",
                                        lineColor: "#006030",
                                        labelFontColor: "#006030",
                                        tickColor: "#006030"
                                    },
                                    axisY2: {
                                        title: "Available Stands",
                                        titleFontColor: "#F75000",
                                        lineColor: "#F75000",
                                        labelFontColor: "#F75000",
                                        tickColor: "#F75000"
                                    },	
                                    toolTip: {
                                        shared: true
                                    },
                                    legend: {
                                        cursor:"pointer",
                                        itemclick: columntoggleDataSeries
                                    },
                                    data: [{
                                        type: "column",
                                        name: "Available Bikes",
                                        legendText: "Available Bikes",
                                        showInLegend: true, 
                                        color: "#006030",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_hourly[k][23]}
                                        ]
                                    },
                                    {
                                        type: "column",	
                                        name: "Available Stands",
                                        legendText: "Available Stands",
                                        axisYType: "secondary",
                                        showInLegend: true,
                                        color: "#F75000",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_stands_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_stands_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_stands_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_stands_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_stands_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_stands_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_stands_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_stands_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_stands_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_stands_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_stands_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_stands_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_stands_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_stands_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_stands_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_stands_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_stands_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_stands_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_stands_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_stands_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_stands_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_stands_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_stands_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_stands_hourly[k][23]}
                                        ]
                                    }]
                                });
                                columnchart.render();
                    
                                function columntoggleDataSeries(e) {
                                    if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                        e.dataSeries.visible = false;
                                    }
                                    else {
                                        e.dataSeries.visible = true;
                                    }
                                    columnchart.render();
                                }
                                        
                                
                                        
  
                                    
                                }
                                
                                });
                    
      

                    (function(marker, data) {
                        google.maps.event.addListener(marker, "click", function(event) {
                            var basicurl = "http://127.0.0.1:5000/available/";
                            $.ajax({
                                url: basicurl + data.number,
                                type: "get",
                                dataType: "json",
                                success: function(content) {
                                var bikes = content.station_recent;
                                var bikes = content.station_recent;
                                var li_bike_weekly = content.li_bike_weekly;
                                var li_bike_stands_weekly = content.li_bike_stands_weekly;
                                var li_bike_hourly = content.li_bike_hourly;
                                var li_bike_stands_hourly = content.li_bike_stands_hourly;


                                    
                                var chart = new CanvasJS.Chart("weekly", {
                                    animationEnabled: false,
                                    theme: "light2",
                                    title:{
                                        text: "Weekly"
                                    },
                                    axisY:{
                                        includeZero: false
                                    },
                                    legend: {
                                        cursor: "pointer",

                                        dockInsidePlotArea: true,
                                        itemclick: toggleDataSeries
                                    },
                                    data: [{        
                                        type: "line",  
                                        showInLegend: true,
                                        name: "Available Bikes",
                                        color: "#006030",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_weekly[6]},
                                            { label: "Monday", y: li_bike_weekly[0]},
                                            { label: "Tuesday", y: li_bike_weekly[1]},
                                            { label: "Wednesday", y: li_bike_weekly[2]},
                                            { label: "Thursday", y: li_bike_weekly[3]},
                                            { label: "Friday", y: li_bike_weekly[4]},
                                            { label: "Saturday", y: li_bike_weekly[5]},
                                            
                                        ]
                                    },
                                       { type: "line",  
                                        showInLegend: true,
                                        name: "Available Stands",
                                        color: "#CE0000",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_stands_weekly[6]},
                                            { label: "Monday", y: li_bike_stands_weekly[0]},
                                            { label: "Tuesday", y: li_bike_stands_weekly[1]},
                                            { label: "Wednesday", y: li_bike_stands_weekly[2]},
                                            { label: "Thursday", y: li_bike_stands_weekly[3]},
                                            { label: "Friday", y: li_bike_stands_weekly[4]},
                                            { label: "Saturday", y: li_bike_stands_weekly[5]},
                                            
                                        ]
                                    } ]
                                });
                                chart.render();
                                        
                                        
                                function toggleDataSeries(f) {
                                    if (typeof(f.dataSeries.visible) === "undefined" || f.dataSeries.visible) {
                                        f.dataSeries.visible = false;
                                    }
                                    else {
                                        f.dataSeries.visible = true;
                                    }
                                    chart.render();
                                }     
                                     
                                    
                                    
                                        
                                        
                                        
                                          
                                        
                                        
                                        
                                    var columnchart = new CanvasJS.Chart("hourly", {
                                    animationEnabled: false,
                                    theme: "light2",
                                    title:{
                                        text: "Hourly"
                                    },	
                                    axisY: {
                                        title: "Available Bikes",
                                        titleFontColor: "#006030",
                                        lineColor: "#006030",
                                        labelFontColor: "#006030",
                                        tickColor: "#006030"
                                    },
                                    axisY2: {
                                        title: "Available Stands",
                                        titleFontColor: "#F75000",
                                        lineColor: "#F75000",
                                        labelFontColor: "#F75000",
                                        tickColor: "#F75000"
                                    },	
                                    toolTip: {
                                        shared: true
                                    },
                                    legend: {
                                        cursor:"pointer",
                                        itemclick: columntoggleDataSeries
                                    },
                                    data: [{
                                        type: "column",
                                        name: "Available Bikes",
                                        legendText: "Available Bikes",
                                        showInLegend: true, 
                                        color: "#006030",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_hourly[k][23]}
                                        ]
                                    },
                                    {
                                        type: "column",	
                                        name: "Available Stands",
                                        legendText: "Available Stands",
                                        axisYType: "secondary",
                                        showInLegend: true,
                                        color: "#F75000",
                                        dataPoints:[
                                              { label: "0:00 - 1:00", y: li_bike_stands_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_stands_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_stands_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_stands_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_stands_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_stands_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_stands_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_stands_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_stands_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_stands_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_stands_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_stands_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_stands_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_stands_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_stands_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_stands_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_stands_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_stands_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_stands_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_stands_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_stands_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_stands_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_stands_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_stands_hourly[k][23]}
                                        ]
                                    }]
                                });
                                columnchart.render();
                    
                                function columntoggleDataSeries(e) {
                                    if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                        e.dataSeries.visible = false;
                                    }
                                    else {
                                        e.dataSeries.visible = true;
                                    }
                                    columnchart.render();
                                }
                                        
                                        
                                    
                                    
//                                             var str = "";
//                                             str += "<table><thead><tr><th>Address</th><th>Weather</th><th>Icon</th><th>Temperature</th><th>Humidity</th><th>Wind_speed</th><th>Future_weather</th></tr></thead><tbody>";
                                                
//                                        
//                                         $.each(content,function(i, bikes) {
//                                                  str +="<tr><td>"+ data.address + "</td><td>"+ bikes.weather + "</td><td>" + bikes.icon + "</td><td>" + bikes.temperature + "</td><td>" + bikes.humidity + "</td><td>" + bikes.wind_speed + "</td><td>" + bikes.future_weather + "</td></tr>";
//
//                                                })
//
//                                        
//                                        str += "</tbody></table>";
//                                        $('body').append(str);
                                                 
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    

                                    

                                    infoWindow.setContent("<div style = 'width:200px;min-height:40px'>" + "Last Updated Time: " + "<br>" + bikes.time + "<br><br>" + "Station Number: " + data.number + "<br>" + "Full Address: " + data.address + "<br>" + "Position: " + data.position_lat + ", " + data.position_lng + "<br>" + "Contract Name: " + data.contract_name + "<br><br>" + "Available Bikes: " + bikes.available_bikes + "<br>" + "Bike Stands: " + bikes.bike_stands + "<br>" + "Available Bikes Stands: " + bikes.available_bike_stands + "<br>" + "Bonus: " + data.bonus + "<br>" + "Status: " + bikes.status + "</div>");
                                    infoWindow.open(map, marker);
                                    

                                }
                            });

                        });

                  })(marker, data);

                }
            
                
                
                else if (bikestation == '') {
                    
                    if (trigger == true) {
                    
                    var chart = new CanvasJS.Chart("weekly", {
                                    animationEnabled: false,
                                    theme: "light2",
                                    title:{
                                        text: "Weekly"
                                    },
                                    data: [{        
                                        type: "line",  
                                        dataPoints: [
                                            { label: "Sunday", y: null},
                                            { label: "Monday", y: null},
                                            { label: "Tuesday", y: null},
                                            { label: "Wednesday", y: null},
                                            { label: "Thursday", y: null},
                                            { label: "Friday", y: null},
                                            { label: "Saturday", y: null}
                                            
                                        ]
                                    }]
                                });
                                chart.render();
                                        
                                        
                                        
                                        
                                        
                                        
                                    var columnchart = new CanvasJS.Chart("hourly", {
                                    animationEnabled: false,
                                    theme: "light2",
                                    title:{
                                        text: "Hourly"
                                    },	
                                    data: [{
                                        type: "column",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: null},
                                            { label: "1:00 - 2:00", y: null},
                                            { label: "2:00 - 3:00", y: null},
                                            { label: "3:00 - 4:00", y: null},
                                            { label: "4:00 - 5:00", y: null},
                                            { label: "5:00 - 6:00", y: null},
                                            { label: "6:00 - 7:00", y: null},
                                            { label: "7:00 - 8:00", y: null},
                                            { label: "8:00 - 9:00", y: null},
                                            { label: "9:00 - 10:00", y: null},
                                            { label: "10:00 - 11:00", y: null},
                                            { label: "11:00 - 12:00", y: null},
                                            { label: "12:00 - 13:00", y: null},
                                         { label: "13:00 - 44:00", y: null},
                                          { label: "14:00 - 15:00", y: null},
                                          { label: "15:00 - 16:00", y: null},
                                          { label: "16:00 - 17:00", y: null},
                                          { label: "17:00 - 18:00", y: null},
                                          { label: "18:00 - 19:00", y: null},
                                          { label: "19:00 - 20:00", y: null},
                                          { label: "20:00 - 21:00", y: null},
                                          { label: "21:00 - 22:00", y: null},
                                          { label: "22:00 - 23:00", y: null},
                                          { label: "23:00 - 0:00", y: null}
                                        ]
                                    }]
                                });
                                columnchart.render();
                    
                    
                                trigger = false;
                    
                    
                    
                    }
                    
                    
                    
                    
                    
                    
                    

                    
                    var myLatlng = new google.maps.LatLng(data.position_lat, data.position_lng);
                        if (data.available_bikes <= 5 && data.available_bikes > 0) {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png',
                            
                         }); }
                                                            
                        else if (data.available_bikes >= data.available_bike_stands) {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
                            
                         }); } 
                        
                        
                        else {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png',
                         }); } 
                    
                    
                    
                    
 
                    


                    (function(marker, data) {
                        google.maps.event.addListener(marker, "click", function(event) {
                            var basicurl = "http://127.0.0.1:5000/available/";
                            $.ajax({
                                url: basicurl + data.number,
                                type: "get",
                                dataType: "json",
                                success: function(content) {
                                var bikes = content.station_recent;
                                var li_bike_weekly = content.li_bike_weekly;
                                var li_bike_stands_weekly = content.li_bike_stands_weekly;
                                var li_bike_hourly = content.li_bike_hourly;
                                var li_bike_stands_hourly = content.li_bike_stands_hourly;

                                    
 

                                var chart = new CanvasJS.Chart("weekly", {
                                    animationEnabled: true,
                                    theme: "light2",
                                    title:{
                                        text: "Weekly"
                                    },
                                    axisY:{
                                        includeZero: false
                                    },
                                    legend: {
                                        cursor: "pointer",

                                        dockInsidePlotArea: true,
                                        itemclick: toggleDataSeries
                                    },
                                    data: [{        
                                        type: "line",  
                                        showInLegend: true,
                                        name: "Available Bikes",
                                        color: "#006030",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_weekly[6]},
                                            { label: "Monday", y: li_bike_weekly[0]},
                                            { label: "Tuesday", y: li_bike_weekly[1]},
                                            { label: "Wednesday", y: li_bike_weekly[2]},
                                            { label: "Thursday", y: li_bike_weekly[3]},
                                            { label: "Friday", y: li_bike_weekly[4]},
                                            { label: "Saturday", y: li_bike_weekly[5]},
                                            
                                        ]
                                    },
                                       { type: "line",  
                                        showInLegend: true,
                                        name: "Available Stands",
                                        color: "#CE0000",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_stands_weekly[6]},
                                            { label: "Monday", y: li_bike_stands_weekly[0]},
                                            { label: "Tuesday", y: li_bike_stands_weekly[1]},
                                            { label: "Wednesday", y: li_bike_stands_weekly[2]},
                                            { label: "Thursday", y: li_bike_stands_weekly[3]},
                                            { label: "Friday", y: li_bike_stands_weekly[4]},
                                            { label: "Saturday", y: li_bike_stands_weekly[5]},
                                            
                                        ]
                                    } ]
                                });
                                chart.render();
                                        
                                        
                                function toggleDataSeries(f) {
                                    if (typeof(f.dataSeries.visible) === "undefined" || f.dataSeries.visible) {
                                        f.dataSeries.visible = false;
                                    }
                                    else {
                                        f.dataSeries.visible = true;
                                    }
                                    chart.render();
                                }     
                                    
                                    
                                
                                        
                                        
                                         
                                    
                                    
                                    
                                    
                                    var columnchart = new CanvasJS.Chart("hourly", {
                                    animationEnabled: true,
                                    theme: "light2",
                                    title:{
                                        text: "Hourly"
                                    },	
                                    axisY: {
                                        title: "Available Bikes",
                                        titleFontColor: "#006030",
                                        lineColor: "#006030",
                                        labelFontColor: "#006030",
                                        tickColor: "#006030"
                                    },
                                    axisY2: {
                                        title: "Available Stands",
                                        titleFontColor: "#F75000",
                                        lineColor: "#F75000",
                                        labelFontColor: "#F75000",
                                        tickColor: "#F75000"
                                    },	
                                    toolTip: {
                                        shared: true
                                    },
                                    legend: {
                                        cursor:"pointer",
                                        itemclick: columntoggleDataSeries
                                    },
                                    data: [{
                                        type: "column",
                                        name: "Available Bikes",
                                        legendText: "Available Bikes",
                                        showInLegend: true, 
                                        color: "#006030",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_hourly[k][23]}
                                        ]
                                    },
                                    {
                                        type: "column",	
                                        name: "Available Stands",
                                        legendText: "Available Stands",
                                        axisYType: "secondary",
                                        showInLegend: true,
                                        color: "#F75000",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_stands_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_stands_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_stands_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_stands_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_stands_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_stands_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_stands_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_stands_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_stands_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_stands_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_stands_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_stands_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_stands_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_stands_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_stands_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_stands_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_stands_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_stands_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_stands_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_stands_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_stands_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_stands_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_stands_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_stands_hourly[k][23]}
                                        ]
                                    }]
                                });
                                columnchart.render();
                    
                                function columntoggleDataSeries(e) {
                                    if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                        e.dataSeries.visible = false;
                                    }
                                    else {
                                        e.dataSeries.visible = true;
                                    }
                                    columnchart.render();
                                }   
                                        
                                
                                        
                                        
                                        
                     
                                    

                                    infoWindow.setContent("<div style = 'width:200px;min-height:40px'>" + "Last Updated Time: " + "<br>" + bikes.time + "<br><br>" + "Station Number: " + data.number + "<br>" + "Full Address: " + data.address + "<br>" + "Position: " + data.position_lat + ", " + data.position_lng + "<br>" + "Contract Name: " + data.contract_name + "<br><br>" + "Available Bikes: " + bikes.available_bikes + "<br>" + "Bike Stands: " + bikes.bike_stands + "<br>" + "Available Bikes Stands: " + bikes.available_bike_stands + "<br>" + "Bonus: " + data.bonus + "<br>" + "Status: " + bikes.status + "</div>");
                                    infoWindow.open(map, marker);
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    

                                }
                            });

                        });

                  })(marker, data);
                    
                    
                    
                    
                    
                }
            





            }
        


//            weatherInfo1 += "</table>";
//            document.getElementById("dvWeather").innerHTML = weatherInfo1;

        }

        
        
//        function showweather() {
//            document.getElementById("dvWeather").innerHTML = '';
//            var everystation = JSON.parse(xmlhttp.responseText).stations;
//            var bikestation = document.getElementById("stationlist").value;
//            var weatherInfo1 = "<table border=1>";
//            weatherInfo1 += "<tr><th>Station Name</th><th>Weather</th><th>Icon</th><th>Temperature</th><th>Humidity</th><th>Wind Speed</th><th>Future Weather</th></tr>";
//            for (var i = 0; i < everystation.length; i++) {
//                var data = everystation[i];
//                var basicurl = "http://127.0.0.1:5000/available/";
//                            $.ajax({
//                                url: basicurl + data.number,
//                                type: "get",
//                                dataType: "json",
//                                success: function(content) {
//                                var bikes = content.station_recent;
//                                 
//                if ((bikestation == data.address) || (bikestation == '')) {
//                    weatherInfo1 += "<tr><td>" + data.address + "</td><td>" + bikes.weather + "</td><td>" + bikes.icon + "</td><td>" + bikes.temperature + "</td><td>" + bikes.humidity + "</td><td>" + bikes.wind_speed + "</td><td>" + bikes.future_weather + "</td></tr>";
//                    
//                }
//                                    }
//                                });
//            }
//            weatherInfo1 += "</table>";
//            document.getElementById("dvWeather").innerHTML = weatherInfo1;
//            
//        }     
        
        
        
        
        
        
        
        
        
        
        


 

    
    
    
    
    
    
    
</script>>
    
    
    <div id="dvMap" style="width: 75%; height: 100%; padding: 0; margin: 0; border: 0; float: right"> </div>
    
<!--
    <div id="search" style="width: 25%; height: 600px; float: right; background-color:darkgrey">
            <p style="float: left; position: relative; left: 20px; color:black; font-weight: 600">Station Name&nbsp&nbsp&nbsp</p>
            <form style="float: left; margin-top: 18px; position: relative; left: 20px; height: 20px">
            <select name="stationlist" id="stationlist" style="float: left; width: 200px; height: 20px">
            <option></option>
            </select>
            </form>
        
        
            <button type="button" onclick="choose()" style="position: relative; left: 40px; top: 15px">
            Submit</button>
        
        
        <h3 style="position: relative; top: 400px">Present Station:</h3>
        
        
        
        
    </div>
-->
    
<!--
    <div id="dvWeather" style="width: 30%; height: 600px; float: right; background-color:darkgrey">
        <table>
                <thead>
                <tr>
                    <th>address</th>
                    <th>weather</th>
                    <th>icon</th>
                    <th>temperature</th>
                    <th>humidity</th>
                    <th>wind_speed</th>
                    <th>future_weather</th>
                </tr>
                </thead>
                <tbody id="list"></tbody>
</table>
    
    
    
    
    </div>
-->
    
    <div id="menu" style="width: 25%; height: 100%; float: right">
    <div id="weather" style="width: 100%; height: 40%"></div>
    <div id="weekly" style="width: 100%; height: 30%"></div>
<!--
<div id="side" style="width: 12%; float: right">
    
    <form>
        <label><input type="radio" name="day" value="Overall"  onclick="choose()" checked>Overall</label>
  <label><input type="radio" name="day" value="Monday" onclick="choose()">Monday</label>
  <label><input type="radio" name="day" value="Tuesday" onclick="choose()">Tuesday</label>
<label><input type="radio" name="day" value="Wednesday" onclick="choose()">Wednesday</label>
<label><input type="radio" name="day" value="Thursday" onclick="choose()">Thursday</label>
<label><input type="radio" name="day" value="Friday" onclick="choose()">Friday</label>
<label><input type="radio" name="day" value="Saturday" onclick="choose()">Saturday</label>
<label><input type="radio" name="day" value="Sunday" onclick="choose()">Sunday</label>
</form>
    
    
    
    
    
  <ul style="height: 330px">
  <li><a href="#home">Overall</a></li>
  <li><a href="#about">Sunday</a></li>
  <li><a href="#news">Monday</a></li>
  <li><a href="#contact">Tuesday</a></li>
  <li><a href="#about">Wednesday</a></li>
  <li><a href="#home">Thursday</a></li>
  <li><a href="#news">Friday</a></li>
  <li><a href="#contact">Saturday</a></li>
  </ul>
</div>
-->
        
<div id="hourly" style="width: 100%; height: 30%">

</div>
        

    
    
    
    </div>
</body>
</html>