<!DOCTYPE html>
<html>

<head>
<title>Search</title>

<style>

 html, body {height: 100%; padding: 0; margin: 0; border: 0px; overflow-y: hidden;}    
    
a { text-decoration: none; }

a i {
  font: 0/0 a;
  text-shadow: none;
  color: transparent;
}

nav {
  background-color: rgba(0, 0, 0, 0.6);
  height: 100%;
  position: fixed;
  right: -300px;
  top: 0;
  -moz-transition: right 0.2s linear;
  -o-transition: right 0.2s linear;
  -webkit-transition: right 0.2s linear;
  transition: right 0.2s linear;
  width: 300px;
  z-index: 9001;/* IT'S OVER 9000! */
}

nav #menuToggle {
  background: rgba(0, 0, 0, 0.6);
  display: block;
  position: relative;
  height: 40px;
  left: -50px;
  top: 75px;
  width: 50px;
}

nav #menuToggle span {
  background: white;
  display: block;
  height: 10%;
  left: 10%;
  position: absolute;
  top: 45%;
  width: 80%;
}

nav #menuToggle span:before,
nav #menuToggle span:after {
  background: white;
  content: '';
  display: block;
  height: 100%;
  position: absolute;
  top: -250%;
  -moz-transform: rotate(0deg);
  -ms-transform: rotate(0deg);
  -webkit-transform: rotate(0deg);
  transform: rotate(0deg);
  width: 100%;
}

nav #menuToggle span:after { top: 250%; }

nav a:nth-child(n+2) {
  color: white;
  display: block;
  font-size: 2.5em;
  margin: 30px 0 30px 30px;
}

nav a:nth-child(n+2):after {
  background: #ffa53e;
  content: '';
  display: block;
  height: 2px;
  -moz-transition: width 0.2s;
  -o-transition: width 0.2s;
  -webkit-transition: width 0.2s;
  transition: width 0.2s;
  width: 0;
}

nav a:nth-child(n+2):hover:after { width: 100%; }

.open { right: 0; }

.open #menuToggle span {
  background: transparent;
  left: 10%;
  top: 45%;
}

.open #menuToggle span:before,
.open #menuToggle span:after {
  background: white;
  top: 0;
  -moz-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.open #menuToggle span:after {
  -moz-transform: rotate(-45deg);
  -ms-transform: rotate(-45deg);
  -webkit-transform: rotate(-45deg);
  transform: rotate(-45deg);
}

#menuToggle .navClosed {
  -moz-transition: background 0.1s linear;
  -o-transition: background 0.1s linear;
  -webkit-transition: background 0.1s linear;
  transition: background 0.1s linear;
}

#menuToggle .navClosed:before,
#menuToggle .navClosed:after {
  -moz-transition: top 0.2s linear 0.1s, -moz-transform 0.2s linear 0.1s;
  -o-transition: top 0.2s linear 0.1s, -o-transform 0.2s linear 0.1s;
  -webkit-transition: top 0.2s linear, -webkit-transform 0.2s linear;
  -webkit-transition-delay: 0.1s, 0.1s;
  transition: top 0.2s linear 0.1s, transform 0.2s linear 0.1s;
}

#menuToggle .navOpen {
  -moz-transition: background 0.1s linear 0.2s;
  -o-transition: background 0.1s linear 0.2s;
  -webkit-transition: background 0.1s linear;
  -webkit-transition-delay: 0.2s;
  transition: background 0.1s linear 0.2s;
}

#menuToggle .navOpen:before,
#menuToggle .navOpen:after {
  -moz-transition: top 0.2s linear, -moz-transform 0.2s linear;
  -o-transition: top 0.2s linear, -o-transform 0.2s linear;
  -webkit-transition: top 0.2s linear, -webkit-transform 0.2s linear;
  transition: top 0.2s linear, transform 0.2s linear;
}   
    


 label{
            margin:10px;
           color: black;
           font-weight: 600;
        }

        .a-radio{
            display: none;
            color: gold;
        }
        .b-radio{
            display: inline-block;
            border:2px solid black;
            width:16px;
            height: 16px;
            border-radius:2px;
            vertical-align: middle;
            margin-right: 5px;
            position: relative;
        }
        .b-radio:before{
            content: '';
            font-size: 0;
            width: 10px;
            height: 10px;
            background: gold;
            position: absolute;
            left:50%;
            top:50%;
            margin-left: -5px;
            margin-top: -5px;
            border-radius: 2px;
            display: none;
        }
        .a-radio:checked~.b-radio:before{
            display: block;
        }

    
    
    
    
    input {
    vertical-align: middle;
}
    
    
    .styled-select select {
   background: black;
    color: gold;
        border-color: gold;

}
   
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

</style>
</head>


<body>

       <div style="width: 100%; height: 60%">
    
    <div id="dvMap" style="width: 75%; height: 100%; float: right"></div>
        <div id="menu" style="width: 25%; height: 100%; float: right; background-color: #3C3A3A">
        
        <div id="weather" style="width: 100%; height: 50%; background-color: #101010; color: white">

            <div style="text-align: center; width: 100%; height: 10%"><span id="station_location" style="font-size: 25px">Dublin</span></div>
            <div style="text-align: center; width: 50%; height: 90%; float: left"><br><span id="temperature" style="font-size:60px; text-align: center"></span><br>
            <span id="description" style="font-size:30px"></span><br><img height="65px"; width="75px" id="temperature_icon"><br><span style="font-size:20px; color: cornflowerblue">Now</span></div>
            <div style="text-align: center; width: 50%; height: 90%; float: left"><br><br><div style="text-align: left; position: relative; left: 60px"><span id="humidity" style="font-size: 15px"></span>
                <br><span id="wind_speed" style="font-size: 15px"></span></div>
            <div>
                <br>
            <span id="future_temperature" style="font-size:25px; text-align: center"></span>           <br>
            <span id="future_description" style="font-size:20px"></span><br><img height="41.8px"; width="45px" id="future_temperature_icon">
            <br><span style="font-size:20px; color: cornflowerblue">In 2 hours</span>
                </div>
            
            
            
            
            
            
            </div>
            
            
            
            
            </div>
        <div id="chooselist" style="width: 100%; height: 50%">
            <h1 style="color: white; text-align: center; font-style: italic">Select a Station</h1>
        <div id="selectdiv" style="width: 100%; height: 10%" class="styled-select">
            
            <p class="oneline" style="float: left; position: relative; left: 10%; color: gold; font-weight: 600">Location: </p>
            <select name="stationlist" id="stationlist" style="float: left; width: 50%; height: 90%; position: relative; left: 15%; margin-top: 16px;">
                <option selected="selected" disabled="disabled"  style='display: none' value='' class="styled-option"></option>
                </select>
            
            
            </div>

            <br>
            <br>
<div>
<label>
        <input type="radio" name="day" id="" class="a-radio" value="Overall" checked>
        <span class="b-radio"></span>Overall
    </label>

<label>
        <input type="radio" name="day" id="" class="a-radio" value="Sunday">
        <span class="b-radio"></span>Sunday
    </label>
            
<label>
        <input type="radio" name="day" id="" class="a-radio" value="Monday">
        <span class="b-radio"></span>Monday
    </label>
            
<label>
        <input type="radio" name="day" id="" class="a-radio" value="Tuesday">
        <span class="b-radio"></span>Tuesday
    </label>
            <br>
<label>
        <input type="radio" name="day" id="" class="a-radio" value="Wednesday">
        <span class="b-radio"></span>Wednesday
    </label>
            
<label>
        <input type="radio" name="day" id="" class="a-radio" value="Thursday">
        <span class="b-radio"></span>Thursday
    </label>
            
<label>
        <input type="radio" name="day" id="" class="a-radio" value="Friday">
        <span class="b-radio"></span>Friday
    </label>
            
<label>
        <input type="radio" name="day" id="" class="a-radio" value="Saturday">
        <span class="b-radio"></span>Saturday
    </label>
            </div>           
            <br>
            <div style="text-align: center">
            <button style="border-color: gold; background-color: transparent; padding: 5px; padding-left: 10px; padding-right: 10px; color: gold; font-size: 20px" onclick="choose()">Submit</button>
            </div>
            
            
            
            
            
            
            
            
    

        
        
        </div>
        

				</div>

        
        
        
    </div>
    

    
    
            <div id="chart" style="width: 100%; height: 40%"> 
        <div id="hourly" style="width: 60%; height: 100%; float: right"></div>
        <div id="weekly" style="width: 40%; height: 100%; float: right"></div>
        
        
        
    </div>
    
    

    
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB13DSvYSxFIptwyDuFm4oqFuAeMJiLDmg&amp;callback=initMap">
    </script>
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">
        var xmlhttp = new XMLHttpRequest();
        var link = "http://127.0.0.1:5000/stations";

        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                var parsedObj = JSON.parse(xmlhttp.responseText);
                getStationList(parsedObj);
                showweather(parsedObj);

            }
        };

        xmlhttp.open("GET", link, true);
        xmlhttp.send();
        
        
        

        function getStationList() {
            var stationgroup = new Array();
            var everystation = JSON.parse(xmlhttp.responseText).stations;
            var bikestation = document.getElementById("stationlist");
            for (let j = 0; j <= everystation.length; j++) {
                var stationaddress = everystation[j].address;
                if (stationgroup.indexOf(stationaddress) == -1) {
                    bikestation.innerHTML += "<option>" + stationaddress + "</option>";
                    stationgroup.push(stationaddress);
                }



            }

        }



        
        
        function getday() {
            var dayofweek = document.getElementsByName("day");
            for (i = 0; i < dayofweek.length; i++) {
                if (dayofweek[i].checked) {
                    return (dayofweek[i].value)
                }
            }
        }
        
        
        
    


        function myObject() {
            
            
            $.ajax({
                                    url: "http://127.0.0.1:5000/available/33",
                                    type: "get",
                                    dataType: "json",
                                    success: function(content) {
                                        var dublin = content.station_recent;
                                        var temperature = document.getElementById("temperature");
                                        var description = document.getElementById("description");
                                        var humidity = document.getElementById("humidity");
                                        var wind_speed = document.getElementById("wind_speed");
                                        var future_temperature = document.getElementById("future_temperature");
                                        var future_description = document.getElementById("future_description");
                                        var station_location = document.getElementById("station_location");
                                        var temperature_icon = document.getElementById("temperature_icon");
                                        var future_temperature_icon = document.getElementById("future_temperature_icon");

                                        
                                    
                                        
                                        temperature.innerHTML = "<span>" + dublin.temperature + '&#176;C' + "</span>";
                                        description.innerHTML = "<span>" + dublin.weather + "</span>";
                                        humidity.innerHTML = "<span>Humidity: " + dublin.humidity + "</span>";
                                        wind_speed.innerHTML = "<span>Wind Speed: " + dublin.wind_speed + "m/s</span>";
                                        future_temperature.innerHTML = "<span>" + dublin.future_temperature + "&#176;C</span>";
                                        future_description.innerHTML = "<span>" + dublin.future_weather + "</span>";
                                        
                                        
                                        if (dublin.icon == "01d" || dublin.icon == "01n") {
                                            document.getElementById('temperature_icon').src = '../static/images/sunny.gif';
                                        }
                                           else if (dublin.icon == "02d" || dublin.icon == "02n")  {
                                            document.getElementById('temperature_icon').src = '../static/images/suncloudy.gif';
                                        }
                                        else if ( dublin.icon == "03d" || dublin.icon == "03n" || dublin.icon == "04d" || dublin.icon == "04n" || dublin.icon == "50d" || dublin.icon == "50n") {
                                            document.getElementById('temperature_icon').src = '../static/images/cloudy.gif';
                                        }
                                        else if (dublin.icon == "09d" || dublin.icon == "09n") {
                                            document.getElementById('temperature_icon').src = '../static/images/rainy.gif';
                                        }
                                        else if (dublin.icon == "10d" || dublin.icon == "10n") {
                                            document.getElementById('temperature_icon').src = '../static/images/mixed.gif';
                                        }
                                        else if (dublin.icon == "11d" || dublin.icon == "11n") {
                                            document.getElementById('temperature_icon').src = '../static/images/lightning.gif';
                                        }
                                        else if (dublin.icon == "13d" || dublin.icon == "13n") {
                                            document.getElementById('temperature_icon').src = '../static/images/snowy.gif';
                                        }
                                        
                                        
                                        if (dublin.future_icon == "01d" || dublin.future_icon == "01n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/sunny.gif';
                                        }
                                        else if (dublin.future_icon == "02d" || dublin.future_icon == "02n")  {
                                            document.getElementById('future_temperature_icon').src = '../static/images/suncloudy.gif';
                                        }
                                        else if ( dublin.future_icon == "03d" || dublin.future_icon == "03n" || dublin.future_icon == "04d" || dublin.future_icon == "04n" || dublin.future_icon == "50d" || dublin.future_icon == "50n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/cloudy.gif';
                                        }
                                        else if (dublin.future_icon == "09d" || dublin.future_icon == "09n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/rainy.gif';
                                        }
                                        else if (dublin.future_icon == "10d" || dublin.future_icon == "10n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/mixed.gif';
                                        }
                                        else if (dublin.future_icon == "11d" || dublin.future_icon == "11n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/lightning.gif';
                                        }
                                        else if (dublin.future_icon == "13d" || dublin.future_icon == "13n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/snowy.gif';
                                        }
            
                                    }
       });
            
            
            
            


            $.ajax({
                url: "http://127.0.0.1:5000/stations",
                type: "get",
                dataType: "json",
                success: function(content) {
                    var markers = content.stations;
                    var mapOptions = {
                        center: new google.maps.LatLng(53.346763, -6.2568436),
                        zoom: 8,
                        mapTypeId: google.maps.MapTypeId.ROADMAP
                    };
                    var infoWindow = new google.maps.InfoWindow();
                    var latlngbounds = new google.maps.LatLngBounds();
                    var map = new google.maps.Map(document.getElementById("dvMap"), mapOptions);
                    
                    
                    

                                    var chart = new CanvasJS.Chart("weekly", {
                                    animationEnabled: false,
                                    theme: "dark2",
                                    title:{
                                        text: "Daily Data"
                                    },
                                    data: [{        
                                        type: "line",  
                                        dataPoints: [
                                            { label: "Sunday", y: null},
                                            { label: "Monday", y: null},
                                            { label: "Tuesday", y: null},
                                            { label: "Wednesday", y: null},
                                            { label: "Thursday", y: null},
                                            { label: "Friday", y: null},
                                            { label: "Saturday", y: null}
                                            
                                        ]
                                    }]
                                });
                                chart.render();
                                        
                                        
                                        
                                        
                                        
                                        
                                    var columnchart = new CanvasJS.Chart("hourly", {
                                    animationEnabled: false,
                                    theme: "dark2",
                                    title:{
                                        text: "Hourly Data: "  + getday()
                                    },	
                                    data: [{
                                        type: "column",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: null},
                                            { label: "1:00 - 2:00", y: null},
                                            { label: "2:00 - 3:00", y: null},
                                            { label: "3:00 - 4:00", y: null},
                                            { label: "4:00 - 5:00", y: null},
                                            { label: "5:00 - 6:00", y: null},
                                            { label: "6:00 - 7:00", y: null},
                                            { label: "7:00 - 8:00", y: null},
                                            { label: "8:00 - 9:00", y: null},
                                            { label: "9:00 - 10:00", y: null},
                                            { label: "10:00 - 11:00", y: null},
                                            { label: "11:00 - 12:00", y: null},
                                            { label: "12:00 - 13:00", y: null},
                                         { label: "13:00 - 44:00", y: null},
                                          { label: "14:00 - 15:00", y: null},
                                          { label: "15:00 - 16:00", y: null},
                                          { label: "16:00 - 17:00", y: null},
                                          { label: "17:00 - 18:00", y: null},
                                          { label: "18:00 - 19:00", y: null},
                                          { label: "19:00 - 20:00", y: null},
                                          { label: "20:00 - 21:00", y: null},
                                          { label: "21:00 - 22:00", y: null},
                                          { label: "22:00 - 23:00", y: null},
                                          { label: "23:00 - 0:00", y: null}
                                        ]
                                    }]
                                });
                                columnchart.render();
                                    




                    for (var i = 0; i < markers.length; i++) {

                        
                        var data = markers[i];
                        
                        var myLatlng = new google.maps.LatLng(data.position_lat, data.position_lng);
                        
                        if (data.available_bikes <= 5 && data.available_bikes > 0) {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png',
                            
                         }); }
                                                            
                        else if (data.available_bikes >= data.available_bike_stands) {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
                            
                         }); } 
                        
                        
                        else {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png',
                         }); } 
                        

                        (function(marker, data) {
                            google.maps.event.addListener(marker, "click", function(e) {
                                var basicurl = "http://127.0.0.1:5000/available/";
                                $.ajax({
                                    url: basicurl + data.number,
                                    type: "get",
                                    dataType: "json",
                                    success: function(content) {
                                        var bikes = content.station_recent;
                                        var li_bike_weekly = content.li_bike_weekly;
                                        var li_bike_stands_weekly = content.li_bike_stands_weekly;
                                        var li_bike_hourly = content.li_bike_hourly;
                                        var li_bike_stands_hourly = content.li_bike_stands_hourly;
                                        var temperature = document.getElementById("temperature");
                                        var description = document.getElementById("description");
                                        var humidity = document.getElementById("humidity");
                                        var wind_speed = document.getElementById("wind_speed");
                                        var future_temperature = document.getElementById("future_temperature");
                                        var future_description = document.getElementById("future_description");
                                        var station_location = document.getElementById("station_location");
                                        var temperature_icon = document.getElementById("teperature_icon");
                                        var future_temperature_icon = document.getElementById("future_teperature_icon");

                                        
                                        var k;
                                        if ( getday() == "Overall" ) {
                                        k = 0;
                                        }

                                        else if ( getday() == "Monday" ) {
                                        k = 1;
                                        }
                                        else if ( getday() == "Tuesday" ) {
                                        k = 2;
                                        }

                                        else if ( getday() == "Wednesday" ) {
                                        k = 3
                                        }

                                        else if ( getday() == "Thursday" ) {
                                        k = 4;
                                        }

                                        else if ( getday() == "Friday" ) {
                                        k = 5;
                                        }

                                        else if ( getday() == "Saturday" ) {
                                        k = 6;
                                        }

                                        else if ( getday() == "Sunday" ) {
                                        k = 7;
                                        }
                                        

                                                                                
                                        

                                        infoWindow.setContent("<div style = 'width: 200px; min-height: 40px; font-style: italic; font-weight: 800'>" + "Last Updated Time: " + "<br>" + bikes.time + "<br><br>" + "Station Number: " + data.number + "<br>" + "Full Address: " + data.address + "<br>" + "Position: " + data.position_lat + ", " + data.position_lng + "<br>" + "Contract Name: " + data.contract_name + "<br><br>" + "Available Bikes: " + bikes.available_bikes + "<br>" + "Bike Stands: " + bikes.bike_stands + "<br>" + "Available Bikes Stands: " + bikes.available_bike_stands + "<br>" + "Bonus: " + data.bonus + "<br>" + "Status: " + bikes.status + "</div>");
                                        infoWindow.open(map, marker);
                                        
                                    
                                        
                                        temperature.innerHTML = "<span>" + bikes.temperature + '&#176;C' + "</span>";
                                        description.innerHTML = "<span>" + bikes.weather + "</span>";
                                        humidity.innerHTML = "<span>Humidity: " + bikes.humidity + "</span>";
                                        wind_speed.innerHTML = "<span>Wind Speed: " + bikes.wind_speed + "m/s</span>";
                                        station_location.innerHTML = "<span>" + data.address + "</span>";
                                        future_temperature.innerHTML = "<span>" + bikes.future_temperature + "&#176;C</span>";
                                        future_description.innerHTML = "<span>" + bikes.future_weather + "</span>";
                                        
                                        
                                        if (bikes.icon == "01d" || bikes.icon == "01n") {
                                            document.getElementById('temperature_icon').src = '../static/images/sunny.gif';
                                        }
                                        else if (bikes.icon == "02d" || bikes.icon == "02n")  {
                                            document.getElementById('temperature_icon').src = '../static/images/suncloudy.gif';
                                        }
                                        else if ( bikes.icon == "03d" || bikes.icon == "03n" || bikes.icon == "04d" || bikes.icon == "04n" || bikes.icon == "50d" || bikes.icon == "50n") {
                                            document.getElementById('temperature_icon').src = '../static/images/cloudy.gif';
                                        }
                                        else if (bikes.icon == "09d" || bikes.icon == "09n") {
                                            document.getElementById('temperature_icon').src = '../static/images/rainy.gif';
                                        }
                                        else if (bikes.icon == "10d" || bikes.icon == "10n") {
                                            document.getElementById('temperature_icon').src = '../static/images/mixed.gif';
                                        }
                                        else if (bikes.icon == "11d" || bikes.icon == "11n") {
                                            document.getElementById('temperature_icon').src = '../static/images/lightning.gif';
                                        }
                                        else if (bikes.icon == "13d" || bikes.icon == "13n") {
                                            document.getElementById('temperature_icon').src = '../static/images/snowy.gif';
                                        }
                                        
                                        
                                        if (bikes.future_icon == "01d" || bikes.future_icon == "01n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/sunny.gif';
                                        }
                                        else if (bikes.future_icon == "02d" || bikes.future_icon == "02n")  {
                                            document.getElementById('future_temperature_icon').src = '../static/images/suncloudy.gif';
                                        }
                                        else if ( bikes.future_icon == "03d" || bikes.future_icon == "03n" || bikes.future_icon == "04d" || bikes.future_icon == "04n" || bikes.future_icon == "50d" || bikes.future_icon == "50n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/cloudy.gif';
                                        }
                                        else if (bikes.future_icon == "09d" || bikes.future_icon == "09n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/rainy.gif';
                                        }
                                        else if (bikes.future_icon == "10d" || bikes.future_icon == "10n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/mixed.gif';
                                        }
                                        else if (bikes.future_icon == "11d" || bikes.future_icon == "11n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/lightning.gif';
                                        }
                                        else if (bikes.future_icon == "13d" || bikes.future_icon == "13n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/snowy.gif';
                                        }
                                        
                                        

                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                    var chart = new CanvasJS.Chart("weekly", {
                                    animationEnabled: true,
                                    theme: "dark2",
                                    title:{
                                        text: "Daily Data"
                                    },
                                    axisY:{
                                        includeZero: true
                                    },
                                    legend: {
                                        cursor: "pointer",

                                        dockInsidePlotArea: true,
                                        itemclick: toggleDataSeries
                                    },
                                    data: [{        
                                        type: "line",  
                                        showInLegend: true,
                                        name: "Available Bikes",
                                        color: "#04B486",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_weekly[6]},
                                            { label: "Monday", y: li_bike_weekly[0]},
                                            { label: "Tuesday", y: li_bike_weekly[1]},
                                            { label: "Wednesday", y: li_bike_weekly[2]},
                                            { label: "Thursday", y: li_bike_weekly[3]},
                                            { label: "Friday", y: li_bike_weekly[4]},
                                            { label: "Saturday", y: li_bike_weekly[5]},
                                            
                                        ]
                                    },
                                       { type: "line",  
                                        showInLegend: true,
                                        name: "Available Stands",
                                        color: "#CE0000",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_stands_weekly[6]},
                                            { label: "Monday", y: li_bike_stands_weekly[0]},
                                            { label: "Tuesday", y: li_bike_stands_weekly[1]},
                                            { label: "Wednesday", y: li_bike_stands_weekly[2]},
                                            { label: "Thursday", y: li_bike_stands_weekly[3]},
                                            { label: "Friday", y: li_bike_stands_weekly[4]},
                                            { label: "Saturday", y: li_bike_stands_weekly[5]},
                                            
                                        ]
                                    } ]
                                });
                                chart.render();
                                        
                                        
                                function toggleDataSeries(f) {
                                    if (typeof(f.dataSeries.visible) === "undefined" || f.dataSeries.visible) {
                                        f.dataSeries.visible = false;
                                    }
                                    else {
                                        f.dataSeries.visible = true;
                                    }
                                    chart.render();
                                }     
                                        
                                        
                                 
                                        
                                   
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                    var columnchart = new CanvasJS.Chart("hourly", {
                                    animationEnabled: true,
                                    theme: "dark2",
                                    title:{
                                        text: "Hourly Data: "  + getday()
                                    },	
                                    axisY: {
                                        
                                        minimum: 0,
                                        maximum: 40,
                                        title: "Available Bikes",
                                        titleFontColor: "#04B486",
                                        lineColor: "#04B486",
                                        labelFontColor: "#04B486",
                                        tickColor: "#04B486"
                                        
                                    },
                                    axisY2: {
                                        
                                        minimum: 0,
                                        maximum: 40,
                                        title: "Available Stands",
                                        titleFontColor: "#F75000",
                                        lineColor: "#F75000",
                                        labelFontColor: "#F75000",
                                        tickColor: "#F75000"
                                    },	
                                    toolTip: {
                                        shared: true
                                    },
                                    legend: {
                                        cursor:"pointer",
                                        itemclick: columntoggleDataSeries
                                    },
                                    data: [{
                                        type: "column",
                                        name: "Available Bikes",
                                        legendText: "Available Bikes",
                                        showInLegend: true, 
                                        color: "#04B486",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_hourly[k][23]}
                                        ]
                                    },
                                    {
                                        type: "column",	
                                        name: "Available Stands",
                                        legendText: "Available Stands",
                                        axisYType: "secondary",
                                        showInLegend: true,
                                        color: "#F75000",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_stands_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_stands_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_stands_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_stands_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_stands_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_stands_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_stands_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_stands_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_stands_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_stands_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_stands_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_stands_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_stands_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_stands_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_stands_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_stands_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_stands_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_stands_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_stands_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_stands_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_stands_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_stands_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_stands_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_stands_hourly[k][23]}
                                        ]
                                    }]
                                });
                                columnchart.render();
                    
                                function columntoggleDataSeries(e) {
                                    if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                        e.dataSeries.visible = false;
                                    }
                                    else {
                                        e.dataSeries.visible = true;
                                    }
                                    columnchart.render();
                                }
                                        
                                   
                                    
                                }
                                
                                });

                            });
                        })(marker, data);
                        latlngbounds.extend(marker.position);
                            
                    }
                    


                    var bounds = new google.maps.LatLngBounds();
                    map.setCenter(latlngbounds.getCenter());
                    map.fitBounds(latlngbounds);

                }
            });
        }



        
        
        
        
        
        
        
        
        
        
        
        
        
        
        

        
        function choose() {
            var everystation = JSON.parse(xmlhttp.responseText).stations;
            var mapOptions = {
                center: new google.maps.LatLng(53.346763, -6.2568436),
                zoom: 13,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var infoWindow = new google.maps.InfoWindow();
            var map = new google.maps.Map(document.getElementById("dvMap"), mapOptions);
            var bikestation = document.getElementById("stationlist").value;
            var trigger = true;
            for (var i = 0; i < everystation.length; i++) {
                var data = everystation[i];

                
                
                if (bikestation == data.address){
                    var myLatlng = new google.maps.LatLng(data.position_lat, data.position_lng);
                    station_location.innerHTML = "<span>" + data.address + "</span>";
                        if (data.available_bikes <= 5 && data.available_bikes > 0) {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png',
                            
                         }); }
                                                            
                        else if (data.available_bikes >= data.available_bike_stands) {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
                            
                         }); } 
                        
                        
                        else {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png',
                         }); } 
                    
                    
                                var basicurl = "http://127.0.0.1:5000/available/";
                                $.ajax({
                                    url: basicurl + data.number,
                                    type: "get",
                                    dataType: "json",
                                    success: function(content) {
                                        var bikes = content.station_recent;
                                        var li_bike_weekly = content.li_bike_weekly;
                                        var li_bike_stands_weekly = content.li_bike_stands_weekly;
                                        var li_bike_hourly = content.li_bike_hourly;
                                        var li_bike_stands_hourly = content.li_bike_stands_hourly;
                                        var temperature = document.getElementById("temperature");
                                        var description = document.getElementById("description");
                                        var humidity = document.getElementById("humidity");
                                        var wind_speed = document.getElementById("wind_speed");
                                        var future_temperature = document.getElementById("future_temperature");
                                        var future_description = document.getElementById("future_description");
                                        var station_location = document.getElementById("station_location");
                                        var temperature_icon = document.getElementById("teperature_icon");
                                        var future_temperature_icon = document.getElementById("future_teperature_icon");
                                        
                                        var k;
                                        if ( getday() == "Overall" ) {
                                        k = 0;
                                        }

                                        else if ( getday() == "Monday" ) {
                                        k = 1;
                                        }
                                        else if ( getday() == "Tuesday" ) {
                                        k = 2;
                                        }

                                        else if ( getday() == "Wednesday" ) {
                                        k = 3
                                        }

                                        else if ( getday() == "Thursday" ) {
                                        k = 4;
                                        }

                                        else if ( getday() == "Friday" ) {
                                        k = 5;
                                        }

                                        else if ( getday() == "Saturday" ) {
                                        k = 6;
                                        }

                                        else if ( getday() == "Sunday" ) {
                                        k = 7;
                                        }
                                        
                                        
                                        temperature.innerHTML = "<span>" + bikes.temperature + '&#176;C' + "</span>";
                                        description.innerHTML = "<span>" + bikes.weather + "</span>";
                                        humidity.innerHTML = "<span>Humidity: " + bikes.humidity + "</span>";
                                        wind_speed.innerHTML = "<span>Wind Speed: " + bikes.wind_speed + "m/s</span>";
                                        future_temperature.innerHTML = "<span>" + bikes.future_temperature + "&#176;C</span>";
                                        future_description.innerHTML = "<span>" + bikes.future_weather + "</span>";
                                        
                                        
                                        if (bikes.icon == "01d" || bikes.icon == "01n") {
                                            document.getElementById('temperature_icon').src = '../static/images/sunny.gif';
                                        }
                                        else if (bikes.icon == "02d" || bikes.icon == "02n")  {
                                            document.getElementById('temperature_icon').src = '../static/images/suncloudy.gif';
                                        }
                                        else if ( bikes.icon == "03d" || bikes.icon == "03n" || bikes.icon == "04d" || bikes.icon == "04n" || bikes.icon == "50d" || bikes.icon == "50n") {
                                            document.getElementById('temperature_icon').src = '../static/images/cloudy.gif';
                                        }
                                        else if (bikes.icon == "09d" || bikes.icon == "09n") {
                                            document.getElementById('temperature_icon').src = '../static/images/rainy.gif';
                                        }
                                        else if (bikes.icon == "10d" || bikes.icon == "10n") {
                                            document.getElementById('temperature_icon').src = '../static/images/mixed.gif';
                                        }
                                        else if (bikes.icon == "11d" || bikes.icon == "11n") {
                                            document.getElementById('temperature_icon').src = '../static/images/lightning.gif';
                                        }
                                        else if (bikes.icon == "13d" || bikes.icon == "13n") {
                                            document.getElementById('temperature_icon').src = '../static/images/snowy.gif';
                                        }
                                        
                                        
                                        if (bikes.future_icon == "01d" || bikes.future_icon == "01n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/sunny.gif';
                                        }
                                        else if (bikes.future_icon == "02d" || bikes.future_icon == "02n")  {
                                            document.getElementById('future_temperature_icon').src = '../static/images/suncloudy.gif';
                                        }
                                        else if ( bikes.future_icon == "03d" || bikes.future_icon == "03n" || bikes.future_icon == "04d" || bikes.future_icon == "04n" || bikes.future_icon == "50d" || bikes.future_icon == "50n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/cloudy.gif';
                                        }
                                        else if (bikes.future_icon == "09d" || bikes.future_icon == "09n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/rainy.gif';
                                        }
                                        else if (bikes.future_icon == "10d" || bikes.future_icon == "10n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/mixed.gif';
                                        }
                                        else if (bikes.future_icon == "11d" || bikes.future_icon == "11n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/lightning.gif';
                                        }
                                        else if (bikes.future_icon == "13d" || bikes.future_icon == "13n") {
                                            document.getElementById('future_temperature_icon').src = '../static/images/snowy.gif';
                                        }    
                                        

                                        
                                        
                                        
                                    var chart = new CanvasJS.Chart("weekly", {
                                    animationEnabled: true,
                                    theme: "dark2",
                                    title:{
                                        text: "Daily Data"
                                    },
                                    axisY:{
                                        minimum: 0,
                                        includeZero: true
                                        
                                    },
                                    legend: {
                                        cursor: "pointer",
                                        dockInsidePlotArea: true,
                                        itemclick: toggleDataSeries
                                    },
                                    data: [{        
                                        type: "line",  
                                        showInLegend: true,
                                        name: "Available Bikes",
                                        color: "#04B486",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_weekly[6]},
                                            { label: "Monday", y: li_bike_weekly[0]},
                                            { label: "Tuesday", y: li_bike_weekly[1]},
                                            { label: "Wednesday", y: li_bike_weekly[2]},
                                            { label: "Thursday", y: li_bike_weekly[3]},
                                            { label: "Friday", y: li_bike_weekly[4]},
                                            { label: "Saturday", y: li_bike_weekly[5]},
                                            
                                        ]
                                    },
                                       { type: "line",  
                                        showInLegend: true,
                                        name: "Available Stands",
                                        color: "#CE0000",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_stands_weekly[6]},
                                            { label: "Monday", y: li_bike_stands_weekly[0]},
                                            { label: "Tuesday", y: li_bike_stands_weekly[1]},
                                            { label: "Wednesday", y: li_bike_stands_weekly[2]},
                                            { label: "Thursday", y: li_bike_stands_weekly[3]},
                                            { label: "Friday", y: li_bike_stands_weekly[4]},
                                            { label: "Saturday", y: li_bike_stands_weekly[5]},
                                            
                                        ]
                                    } ]
                                });
                                chart.render();
                                        
                                        
                                function toggleDataSeries(f) {
                                    if (typeof(f.dataSeries.visible) === "undefined" || f.dataSeries.visible) {
                                        f.dataSeries.visible = false;
                                    }
                                    else {
                                        f.dataSeries.visible = true;
                                    }
                                    chart.render();
                                }     
                                        
                                
                                        
                                        
                                         
                                        
                                        
                                    var columnchart = new CanvasJS.Chart("hourly", {
                                    animationEnabled: true,
                                    theme: "dark2",
                                    title:{
                                        text: "Hourly Data: "  + getday()
                                    },	
                                    axisY: {
                                        
                                        minimum: 0,
                                        maximum: 40,
                                        title: "Available Bikes",
                                        titleFontColor: "#04B486",
                                        lineColor: "#04B486",
                                        labelFontColor: "#04B486",
                                        tickColor: "#04B486"
                                    },
                                    axisY2: {
                                        
                                        minimum: 0,
                                        maximum: 40,
                                        title: "Available Stands",
                                        titleFontColor: "#F75000",
                                        lineColor: "#F75000",
                                        labelFontColor: "#F75000",
                                        tickColor: "#F75000"
                                    },	
                                    toolTip: {
                                        shared: true
                                    },
                                    legend: {
                                        cursor:"pointer",
                                        itemclick: columntoggleDataSeries
                                    },
                                    data: [{
                                        type: "column",
                                        name: "Available Bikes",
                                        legendText: "Available Bikes",
                                        showInLegend: true, 
                                        color: "#04B486",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_hourly[k][23]}
                                        ]
                                    },
                                    {
                                        type: "column",	
                                        name: "Available Stands",
                                        legendText: "Available Stands",
                                        axisYType: "secondary",
                                        showInLegend: true,
                                        color: "#F75000",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_stands_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_stands_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_stands_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_stands_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_stands_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_stands_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_stands_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_stands_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_stands_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_stands_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_stands_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_stands_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_stands_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_stands_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_stands_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_stands_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_stands_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_stands_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_stands_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_stands_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_stands_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_stands_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_stands_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_stands_hourly[k][23]}
                                        ]
                                    }]
                                });
                                columnchart.render();
                    
                                function columntoggleDataSeries(e) {
                                    if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                        e.dataSeries.visible = false;
                                    }
                                    else {
                                        e.dataSeries.visible = true;
                                    }
                                    columnchart.render();
                                }
                                        
                                
                                        
  
                                    
                                }
                                
                                });
                    
      
                    (function(marker, data) {
                        google.maps.event.addListener(marker, "click", function(event) {
                            var basicurl = "http://127.0.0.1:5000/available/";
                            $.ajax({
                                url: basicurl + data.number,
                                type: "get",
                                dataType: "json",
                                success: function(content) {
                                var bikes = content.station_recent;
                                var bikes = content.station_recent;
                                var li_bike_weekly = content.li_bike_weekly;
                                var li_bike_stands_weekly = content.li_bike_stands_weekly;
                                var li_bike_hourly = content.li_bike_hourly;
                                var li_bike_stands_hourly = content.li_bike_stands_hourly;
                                                var k;
                if ( getday() == "Overall" ) {
                    k = 0;
                }
                
                else if ( getday() == "Monday" ) {
                    k = 1;
                }
                else if ( getday() == "Tuesday" ) {
                    k = 2;
                }
                
                else if ( getday() == "Wednesday" ) {
                    k = 3
                }
                
                else if ( getday() == "Thursday" ) {
                    k = 4;
                }
                
                else if ( getday() == "Friday" ) {
                    k = 5;
                }
                
                else if ( getday() == "Saturday" ) {
                    k = 6;
                }
                
                else if ( getday() == "Sunday" ) {
                    k = 7;
                }
                                    
                                var chart = new CanvasJS.Chart("weekly", {
                                    animationEnabled: false,
                                    theme: "dark2",
                                    title:{
                                        text: "Daily Data"
                                    },
                                    axisY:{
                                        includeZero: true
                                    },
                                    legend: {
                                        cursor: "pointer",
                                        dockInsidePlotArea: true,
                                        itemclick: toggleDataSeries
                                    },
                                    data: [{        
                                        type: "line",  
                                        showInLegend: true,
                                        name: "Available Bikes",
                                        color: "#04B486",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_weekly[6]},
                                            { label: "Monday", y: li_bike_weekly[0]},
                                            { label: "Tuesday", y: li_bike_weekly[1]},
                                            { label: "Wednesday", y: li_bike_weekly[2]},
                                            { label: "Thursday", y: li_bike_weekly[3]},
                                            { label: "Friday", y: li_bike_weekly[4]},
                                            { label: "Saturday", y: li_bike_weekly[5]},
                                            
                                        ]
                                    },
                                       { type: "line",  
                                        showInLegend: true,
                                        name: "Available Stands",
                                        color: "#CE0000",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_stands_weekly[6]},
                                            { label: "Monday", y: li_bike_stands_weekly[0]},
                                            { label: "Tuesday", y: li_bike_stands_weekly[1]},
                                            { label: "Wednesday", y: li_bike_stands_weekly[2]},
                                            { label: "Thursday", y: li_bike_stands_weekly[3]},
                                            { label: "Friday", y: li_bike_stands_weekly[4]},
                                            { label: "Saturday", y: li_bike_stands_weekly[5]},
                                            
                                        ]
                                    } ]
                                });
                                chart.render();
                                        
                                        
                                function toggleDataSeries(f) {
                                    if (typeof(f.dataSeries.visible) === "undefined" || f.dataSeries.visible) {
                                        f.dataSeries.visible = false;
                                    }
                                    else {
                                        f.dataSeries.visible = true;
                                    }
                                    chart.render();
                                }     
                                     
                                    
                                    
                                        
                                        
                                        
                                          
                                        
                                        
                                        
                                    var columnchart = new CanvasJS.Chart("hourly", {
                                    animationEnabled: false,
                                    theme: "dark2",
                                    title:{
                                        text: "Hourly Data: "  + getday()
                                    },	
                                    axisY: {
                                        
                                        minimum: 0,
                                        maximum: 40,
                                        title: "Available Bikes",
                                        titleFontColor: "#04B486",
                                        lineColor: "#04B486",
                                        labelFontColor: "#04B486",
                                        tickColor: "#04B486"
                                    },
                                    axisY2: {
                                        
                                        minimum: 0,
                                        maximum: 40,
                                        title: "Available Stands",
                                        titleFontColor: "#F75000",
                                        lineColor: "#F75000",
                                        labelFontColor: "#F75000",
                                        tickColor: "#F75000"
                                    },	
                                    toolTip: {
                                        shared: true
                                    },
                                    legend: {
                                        cursor:"pointer",
                                        itemclick: columntoggleDataSeries
                                    },
                                    data: [{
                                        type: "column",
                                        name: "Available Bikes",
                                        legendText: "Available Bikes",
                                        showInLegend: true, 
                                        color: "#04B486",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_hourly[k][23]}
                                        ]
                                    },
                                    {
                                        type: "column",	
                                        name: "Available Stands",
                                        legendText: "Available Stands",
                                        axisYType: "secondary",
                                        showInLegend: true,
                                        color: "#F75000",
                                        dataPoints:[
                                              { label: "0:00 - 1:00", y: li_bike_stands_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_stands_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_stands_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_stands_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_stands_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_stands_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_stands_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_stands_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_stands_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_stands_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_stands_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_stands_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_stands_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_stands_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_stands_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_stands_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_stands_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_stands_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_stands_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_stands_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_stands_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_stands_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_stands_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_stands_hourly[k][23]}
                                        ]
                                    }]
                                });
                                columnchart.render();
                    
                                function columntoggleDataSeries(e) {
                                    if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                        e.dataSeries.visible = false;
                                    }
                                    else {
                                        e.dataSeries.visible = true;
                                    }
                                    columnchart.render();
                                }
                                        
                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    infoWindow.setContent("<div style = 'width: 200px; min-height: 40px; font-style: italic; font-weight: 800'>" + "Last Updated Time: " + "<br>" + bikes.time + "<br><br>" + "Station Number: " + data.number + "<br>" + "Full Address: " + data.address + "<br>" + "Position: " + data.position_lat + ", " + data.position_lng + "<br>" + "Contract Name: " + data.contract_name + "<br><br>" + "Available Bikes: " + bikes.available_bikes + "<br>" + "Bike Stands: " + bikes.bike_stands + "<br>" + "Available Bikes Stands: " + bikes.available_bike_stands + "<br>" + "Bonus: " + data.bonus + "<br>" + "Status: " + bikes.status + "</div>");
                                    infoWindow.open(map, marker);
                                    
                                }
                            });
                        });
                  })(marker, data);
                }
            
                
                
                else if (bikestation == '') {
                    
           
                    if (trigger == true) {
                    
                    var chart = new CanvasJS.Chart("weekly", {
                                    animationEnabled: false,
                                    theme: "dark2",
                                    title:{
                                        text: "Daily Data"
                                    },
                                    data: [{        
                                        type: "line",  
                                        dataPoints: [
                                            { label: "Sunday", y: null},
                                            { label: "Monday", y: null},
                                            { label: "Tuesday", y: null},
                                            { label: "Wednesday", y: null},
                                            { label: "Thursday", y: null},
                                            { label: "Friday", y: null},
                                            { label: "Saturday", y: null}
                                            
                                        ]
                                    }]
                                });
                                chart.render();
                                        
                                        
                                        
                                        
                                        
                                        
                                    var columnchart = new CanvasJS.Chart("hourly", {
                                    animationEnabled: false,
                                    theme: "dark2",
                                    title:{
                                        text: "Hourly Data: " + getday()
                                    },	
                                    data: [{
                                        type: "column",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: null},
                                            { label: "1:00 - 2:00", y: null},
                                            { label: "2:00 - 3:00", y: null},
                                            { label: "3:00 - 4:00", y: null},
                                            { label: "4:00 - 5:00", y: null},
                                            { label: "5:00 - 6:00", y: null},
                                            { label: "6:00 - 7:00", y: null},
                                            { label: "7:00 - 8:00", y: null},
                                            { label: "8:00 - 9:00", y: null},
                                            { label: "9:00 - 10:00", y: null},
                                            { label: "10:00 - 11:00", y: null},
                                            { label: "11:00 - 12:00", y: null},
                                            { label: "12:00 - 13:00", y: null},
                                         { label: "13:00 - 44:00", y: null},
                                          { label: "14:00 - 15:00", y: null},
                                          { label: "15:00 - 16:00", y: null},
                                          { label: "16:00 - 17:00", y: null},
                                          { label: "17:00 - 18:00", y: null},
                                          { label: "18:00 - 19:00", y: null},
                                          { label: "19:00 - 20:00", y: null},
                                          { label: "20:00 - 21:00", y: null},
                                          { label: "21:00 - 22:00", y: null},
                                          { label: "22:00 - 23:00", y: null},
                                          { label: "23:00 - 0:00", y: null}
                                        ]
                                    }]
                                });
                                columnchart.render();
                    
                    
                                trigger = false;
                    
                    
                    
                    }
                    
                    
                    
                    
                    
                    
                    
                    
                    var myLatlng = new google.maps.LatLng(data.position_lat, data.position_lng);
                        if (data.available_bikes <= 5 && data.available_bikes > 0) {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png',
                            
                         }); }
                                                            
                        else if (data.available_bikes >= data.available_bike_stands) {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
                            
                         }); } 
                        
                        
                        else {
                        var marker = new google.maps.Marker({
                            position: myLatlng,
                            map: map,
                            icon: 'http://maps.google.com/mapfiles/ms/icons/red-dot.png',
                         }); } 
                    
                    
                    
                    
 
                    
                    (function(marker, data) {
                        google.maps.event.addListener(marker, "click", function(event) {
                            var basicurl = "http://127.0.0.1:5000/available/";
                            $.ajax({
                                url: basicurl + data.number,
                                type: "get",
                                dataType: "json",
                                success: function(content) {
                                var bikes = content.station_recent;
                                var li_bike_weekly = content.li_bike_weekly;
                                var li_bike_stands_weekly = content.li_bike_stands_weekly;
                                var li_bike_hourly = content.li_bike_hourly;
                                var li_bike_stands_hourly = content.li_bike_stands_hourly;
                                 var k;
                if ( getday() == "Overall" ) {
                    k = 0;
                }
                
                else if ( getday() == "Monday" ) {
                    k = 1;
                }
                else if ( getday() == "Tuesday" ) {
                    k = 2;
                }
                
                else if ( getday() == "Wednesday" ) {
                    k = 3
                }
                
                else if ( getday() == "Thursday" ) {
                    k = 4;
                }
                
                else if ( getday() == "Friday" ) {
                    k = 5;
                }
                
                else if ( getday() == "Saturday" ) {
                    k = 6;
                }
                
                else if ( getday() == "Sunday" ) {
                    k = 7;
                }
                                    
 
                                var chart = new CanvasJS.Chart("weekly", {
                                    animationEnabled: true,
                                    theme: "dark2",
                                    title:{
                                        text: "Daily Data"
                                    },
                                    axisY:{
                                        includeZero: true
                                    },
                                    legend: {
                                        cursor: "pointer",
                                        dockInsidePlotArea: true,
                                        itemclick: toggleDataSeries
                                    },
                                    data: [{        
                                        type: "line",  
                                        showInLegend: true,
                                        name: "Available Bikes",
                                        color: "#04B486",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_weekly[6]},
                                            { label: "Monday", y: li_bike_weekly[0]},
                                            { label: "Tuesday", y: li_bike_weekly[1]},
                                            { label: "Wednesday", y: li_bike_weekly[2]},
                                            { label: "Thursday", y: li_bike_weekly[3]},
                                            { label: "Friday", y: li_bike_weekly[4]},
                                            { label: "Saturday", y: li_bike_weekly[5]},
                                            
                                        ]
                                    },
                                       { type: "line",  
                                        showInLegend: true,
                                        name: "Available Stands",
                                        color: "#CE0000",
                                        dataPoints: [
                                            { label: "Sunday", y: li_bike_stands_weekly[6]},
                                            { label: "Monday", y: li_bike_stands_weekly[0]},
                                            { label: "Tuesday", y: li_bike_stands_weekly[1]},
                                            { label: "Wednesday", y: li_bike_stands_weekly[2]},
                                            { label: "Thursday", y: li_bike_stands_weekly[3]},
                                            { label: "Friday", y: li_bike_stands_weekly[4]},
                                            { label: "Saturday", y: li_bike_stands_weekly[5]},
                                            
                                        ]
                                    } ]
                                });
                                chart.render();
                                        
                                        
                                function toggleDataSeries(f) {
                                    if (typeof(f.dataSeries.visible) === "undefined" || f.dataSeries.visible) {
                                        f.dataSeries.visible = false;
                                    }
                                    else {
                                        f.dataSeries.visible = true;
                                    }
                                    chart.render();
                                }     
                                    
                                    
                                
                                        
                                        
                                         
                                    
                                    
                                    
                                    
                                    var columnchart = new CanvasJS.Chart("hourly", {
                                    animationEnabled: true,
                                    theme: "dark2",
                                    title:{
                                        text: "Hourly Data: " + getday()
                                    },	
                                    axisY: {
                                        
                                        minimum: 0,
                                        maximum: 40,
                                        title: "Available Bikes",
                                        titleFontColor: "#04B486",
                                        lineColor: "#04B486",
                                        labelFontColor: "#04B486",
                                        tickColor: "#04B486"
                                    },
                                    axisY2: {
                                        
                                        minimum: 0,
                                        maximum: 40,
                                        title: "Available Stands",
                                        titleFontColor: "#F75000",
                                        lineColor: "#F75000",
                                        labelFontColor: "#F75000",
                                        tickColor: "#F75000"
                                    },	
                                    toolTip: {
                                        shared: true
                                    },
                                    legend: {
                                        cursor:"pointer",
                                        itemclick: columntoggleDataSeries
                                    },
                                    data: [{
                                        type: "column",
                                        name: "Available Bikes",
                                        legendText: "Available Bikes",
                                        showInLegend: true, 
                                        color: "#04B486",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_hourly[k][23]}
                                        ]
                                    },
                                    {
                                        type: "column",	
                                        name: "Available Stands",
                                        legendText: "Available Stands",
                                        axisYType: "secondary",
                                        showInLegend: true,
                                        color: "#F75000",
                                        dataPoints:[
                                            { label: "0:00 - 1:00", y: li_bike_stands_hourly[k][0]},
                                            { label: "1:00 - 2:00", y: li_bike_stands_hourly[k][1]},
                                            { label: "2:00 - 3:00", y: li_bike_stands_hourly[k][2]},
                                            { label: "3:00 - 4:00", y: li_bike_stands_hourly[k][3]},
                                            { label: "4:00 - 5:00", y: li_bike_stands_hourly[k][4]},
                                            { label: "5:00 - 6:00", y: li_bike_stands_hourly[k][5]},
                                            { label: "6:00 - 7:00", y: li_bike_stands_hourly[k][6]},
                                            { label: "7:00 - 8:00", y: li_bike_stands_hourly[k][7]},
                                            { label: "8:00 - 9:00", y: li_bike_stands_hourly[k][8]},
                                            { label: "9:00 - 10:00", y: li_bike_stands_hourly[k][9]},
                                            { label: "10:00 - 11:00", y: li_bike_stands_hourly[k][10]},
                                            { label: "11:00 - 12:00", y: li_bike_stands_hourly[k][11]},
                                            { label: "12:00 - 13:00", y: li_bike_stands_hourly[k][12]},
                                         { label: "13:00 - 44:00", y: li_bike_stands_hourly[k][13]},
                                          { label: "14:00 - 15:00", y: li_bike_stands_hourly[k][14]},
                                          { label: "15:00 - 16:00", y: li_bike_stands_hourly[k][15]},
                                          { label: "16:00 - 17:00", y: li_bike_stands_hourly[k][16]},
                                          { label: "17:00 - 18:00", y: li_bike_stands_hourly[k][17]},
                                          { label: "18:00 - 19:00", y: li_bike_stands_hourly[k][18]},
                                          { label: "19:00 - 20:00", y: li_bike_stands_hourly[k][19]},
                                          { label: "20:00 - 21:00", y: li_bike_stands_hourly[k][20]},
                                          { label: "21:00 - 22:00", y: li_bike_stands_hourly[k][21]},
                                          { label: "22:00 - 23:00", y: li_bike_stands_hourly[k][22]},
                                          { label: "23:00 - 0:00", y: li_bike_stands_hourly[k][23]}
                                        ]
                                    }]
                                });
                                columnchart.render();
                    
                                function columntoggleDataSeries(e) {
                                    if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                                        e.dataSeries.visible = false;
                                    }
                                    else {
                                        e.dataSeries.visible = true;
                                    }
                                    columnchart.render();
                                }   
                                        
                                
                                        
                                        
                                        
                     
                                    
                                    infoWindow.setContent("<div style = 'width:200px;min-height:40px'>" + "Last Updated Time: " + "<br>" + bikes.time + "<br><br>" + "Station Number: " + data.number + "<br>" + "Full Address: " + data.address + "<br>" + "Position: " + data.position_lat + ", " + data.position_lng + "<br>" + "Contract Name: " + data.contract_name + "<br><br>" + "Available Bikes: " + bikes.available_bikes + "<br>" + "Bike Stands: " + bikes.bike_stands + "<br>" + "Available Bikes Stands: " + bikes.available_bike_stands + "<br>" + "Bonus: " + data.bonus + "<br>" + "Status: " + bikes.status + "</div>");
                                    infoWindow.open(map, marker);
                                    
                                    
                     
                                    
                                    
                                    
                                    
                                    
                                    
                                }
                            });
                        });
                  })(marker, data);
                    
                    
                    
                    
                    
                }
            
            }
        

        }
        
        
        
        
        
        
        
        
        

        
        myObject();
    </script>
    



<script type="text/javascript" src="https://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<nav> <a href="" id="menuToggle" title="show menu"> <span class="navClosed"><i>show menu</i></span> </a> <a href="/all_stations" title="Item 1">Overall</a> <a href="prediction" title="Item 2">Prediction</a> <a href="our_team" title="Item 3">Our Team</a> <a href="/all_stations" title="Item 3">Go Back</a> </nav>
<script>
(function($){
	// Menu Functions
	$(document).ready(function(){
  	$('#menuToggle').click(function(e){
    	var $parent = $(this).parent('nav');
      $parent.toggleClass("open");
      var navState = $parent.hasClass('open') ? "hide" : "show";
      $(this).attr("title", navState + " navigation");
			// Set the timeout to the animation length in the CSS.
    	e.preventDefault();
  	});
  });
})(jQuery);
</script>

    
    


</body>

</html>